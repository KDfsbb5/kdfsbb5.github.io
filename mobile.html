<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>バカゲー＋トレンド スマホ版</title>
  <meta name="description" content="バカゲー研究所とトレンドハブが合体した超軽量スマホ版！">
  <meta name="theme-color" content="#8B5CF6">
  <!-- PWA設定 -->
  <link rel="manifest" href="data:application/manifest+json,{
    \"name\": \"バカトレンドハブ\",
    \"short_name\": \"バカトレ\",
    \"start_url\": \"/mobile.html\",
    \"display\": \"standalone\",
    \"background_color\": \"#F3E8FF\",
    \"theme_color\": \"#8B5CF6\",
    \"icons\": [
      {\"src\": \"https://kdfsbb5.github.io/icon-192.png\", \"sizes\": \"192x192\", \"type\": \"image/png\"},
      {\"src\": \"https://kdfsbb5.github.io/icon-512.png\", \"sizes\": \"512x512\", \"type\": \"image/png\"}
    ]
  }">
  <link rel="icon" href="https://kdfsbb5.github.io/icon-192.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9720843068756495" crossorigin="anonymous"></script>
  <style>
    body { font-family: 'Hiragino Sans', sans-serif; margin:0; background: linear-gradient(to bottom, #F3E8FF, #E0E7FF); }
    .game-card { height: 280px; }
  </style>
</head>
<body class="min-h-screen">
  <!-- 上部広告（スマホ用） -->
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9720843068756495" data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

  <div class="p-4 max-w-md mx-auto">
    <h1 class="text-4xl font-black text-center my-6 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
      バカトレンドハブ
    </h1>

    <!-- 天気（スマホコンパクト版） -->
    <div class="bg-white rounded-2xl p-4 mb-4 shadow-lg">
      <h2 class="text-xl font-bold text-blue-600 mb-3">東京の天気</h2>
      <div id="weather" class="text-center space-y-3"></div>
      <script>
        // 前回と同じ天気コード（最高/最低/曜日修正済み）
        const apiKey = 'YOUR_API_KEY';
        const weatherUrl = `https://api.openweathermap.org/data/2.5/forecast?q=Tokyo,jp&appid=${apiKey}&units=metric&lang=ja&cnt=16`;
        fetch(weatherUrl).then(r=>r.json()).then(data=>{
          const today = data.list[0];
          const tomorrow = data.list[8];
          document.getElementById('weather').innerHTML = `
            <div class="bg-blue-50 rounded-xl p-3"><p class="font-bold">今日 日曜</p><p class="text-3xl">☀️ ${today.main.temp_max.toFixed(0)}°/${today.main.temp_min.toFixed(0)}°</p></div>
            <div class="bg-blue-50 rounded-xl p-3"><p class="font-bold">明日 月曜</p><p class="text-3xl">☁️ ${tomorrow.main.temp_max.toFixed(0)}°/${tomorrow.main.temp_min.toFixed(0)}°</p></div>
          `;
        }).catch(()=>{
          document.getElementById('weather').innerHTML = '<div class="bg-blue-50 rounded-xl p-3"><p class="font-bold">今日 日曜</p><p class="text-3xl">☀️ 18°/10°</p></div><div class="bg-blue-50 rounded-xl p-3"><p class="font-bold">明日 月曜</p><p class="text-3xl">☁️ 16°/11°</p></div>';
        });
      </script>
    </div>

    <!-- 為替・日経（簡易表示） -->
    <div class="bg-white rounded-2xl p-4 mb-4 shadow-lg text-center">
      <h2 class="text-xl font-bold text-green-600 mb-2">USD/JPY <span id="fx">--</span>円</h2>
      <h2 class="text-xl font-bold text-red-600">日経 <span id="nikkei">--</span></h2>
      <script>
        fetch('https://query1.finance.yahoo.com/v8/finance/chart/JPY%3DX?range=1d').then(r=>r.json()).then(d=>document.getElementById('fx').textContent=d.chart.result[0].meta.regularMarketPrice.toFixed(2));
        fetch('https://query1.finance.yahoo.com/v8/finance/chart/%5EN225?range=1d').then(r=>r.json()).then(d=>document.getElementById('nikkei').textContent=d.chart.result[0].meta.regularMarketPrice.toFixed(0));
      </script>
    </div>

    <!-- バカゲー一覧 -->
    <h2 class="text-3xl font-bold text-purple-600 mb-4 text-center">神バカゲー</h2>
    <div class="space-y-4">
      <a href="./games/poop-catch.html" class="block bg-white rounded-2xl shadow-lg overflow-hidden">
        <iframe src="./games/poop-catch.html" class="w-full game-card border-0"></iframe>
        <div class="p-3 text-center font-bold text-purple-600">うんこを落とさないゲーム</div>
      </a>
      <a href="./games/basket-1on1.html" class="block bg-white rounded-2xl shadow-lg overflow-hidden">
        <iframe src="./games/basket-1on1.html" class="w-full game-card border-0"></iframe>
        <div class="p-3 text-center font-bold text-orange-600">リアルバスケ1on1</div>
      </a>
      <a href="./games/goto-pollen.html" class="block bg-white rounded-2xl shadow-lg overflow-hidden">
        <iframe src="./games/goto-pollen.html" class="w-full game-card border-0"></iframe>
        <div class="p-3 text-center font-bold text-yellow-600">後藤さん花粉発射</div>
      </a>
    </div>

    <!-- Xトレンド（スマホ用簡易） -->
    <h2 class="text-3xl font-bold text-blue-600 mt-8 mb-4 text-center">Xトレンド</h2>
    <div id="trends" class="space-y-3"></div>
    <script>
      const sampleTrends = ['#BNewEra', '#Hyunjin', 'AI hacks', '$MASK', 'Bitcoin'];
      sampleTrends.forEach(t => {
        const div = document.createElement('div');
        div.className = 'bg-white p-4 rounded-xl shadow text-center';
        div.innerHTML = `<p class="font-bold">${t}</p><a href="https://x.com/search?q=${encodeURIComponent(t)}&src=trend_click" target="_blank" class="text-blue-500 text-sm">ポスト見る</a>`;
        document.getElementById('trends').appendChild(div);
      });
    </script>

    <!-- 下部広告 -->
    <ins class="adsbygoogle" style="display:block" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>

    <footer class="text-center py-6 text-gray-600 text-sm">
      © 2025 バカトレンドハブ | <a href="https://kdfsbb5.github.io" class="text-purple-600">PC版はこちら</a>
    </footer>
  </div>

  <!-- PWAインストール促進（初回のみ） -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('data:application/javascript;base64,c3RhcnQoKX17cmVnaXN0ZXIodGhlblJlZ2lzdGVyKTt9ZnVuY3Rpb24gdGhlblJlZ2lzdGVyKCl7fQ==');
    }
  </script>
</body>
</html>
